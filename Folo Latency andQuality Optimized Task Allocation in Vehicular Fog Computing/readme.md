# Mobile-Edge-Computing

## Folo: Latency andQuality Optimized Task Allocation in Vehicular Fog Computing
## Folo：车辆雾计算中的延迟和质量优化任务分配

[文章链接](https://ieeexplore.ieee.org/document/7946184)

### Abstract
随着诸如实时态势感知和协作变道的新兴车辆应用，存在对边缘处的足够计算资源以进行时间关键和数据密集型任务的巨大需求。本文提出了Folo，一种用于车载雾计算（VFC）中延迟和质量优化任务分配的新颖解决方案。 Folo旨在支持车辆的移动性，包括产生任务的车辆和作为雾节点的其他车辆。考虑到对服务延迟，质量损失和雾容量的限制，跨静止和移动雾节点的任务分配过程被制定为联合优化问题。在VFC中的这种任务分配被称为NP难问题。在本文中，我们将雾节点的任务分配呈现为双目标最小化问题，其中在服务延迟和质量损失之间保持折衷。具体而言，我们提出了使用基于线性编程的优化（LBO）和二进制粒子群优化（BPSO）的事件触发动态任务分配（DTA）框架。为了评估Folo的有效性，我们基于真实世界的出租车轨迹模拟了雾节点在一天中不同时间的移动性，并实现了两个代表性任务，包括视频流和实时物体识别。仿真结果表明，Folo提供的任务分配可以根据服务延迟和质量的实际需求进行调整，与天真和随机雾节点选择相比，可以获得更高的性能。更具体地说，Folo将平均服务延迟缩短了27％，同时将质量损失降低了56％。

### 1 INTRODUCTION
未来的车辆变得越来越智能，越来越紧密。5G汽车协会发布的白皮书描述了新兴的汽车应用，例如实时态势感知，传递透视和高清本地地图，这些应用涉及数据密集和延迟敏感的计算任务，例如模式识别和增强现实（AR）。  
云模型不适用于操作对延迟至关重要的环境。作为示例，防止碰撞和事故不能承受由车辆和远程云之间的往返引起的等待时间。为了解决这个问题，已经提出了一种称为雾计算的新计算范例。 其关键思想是将智能（例如，计算资源，应用服务）推向生成数据并对其起作用的边缘。  
由于车辆的移动性，车辆应用产生的计算和通信工作量随时间和位置而变化。 同时，车载雾计算（VFC）场景中的雾节点可以是静止的或移动的。例如，具有足够计算资源和网络连接的商用车队可以成为移动雾节点，以处理由相邻车辆和乘客产生的服务实例。雾节点的移动性开辟了新的机会，例如按需计算。但是，它还为VFC中的任务分配过程增加了一层复杂性。  
根据[10,11]，通过放宽质量损失的容忍度，可以在一定程度上降低服务等待时间。我们探索了一个新的维度，即质量损失结果（QLR），用于表示用户获得的服务，与完美结果相比，质量低于或低于最佳质量。 在本文中，一个名为Folo的动态任务分配解决方案被设计为在特定于应用程序的要求（例如，通信和计算需求）下优化服务延迟和QLR。此外，跨静止和移动雾节点的任务分配过程被公式化为双目标优化问题。 优化目标包括最小化平均服务延迟和降低整体质量损失。由于它被证明是NP难问题，因此使用基于线性编程的优化（LBO）和二进制粒子群优化（BPSO）来提出事件触发的任务分配架构，即动态任务分配（DTA）来解决它。  
为了评估Folo的有效性，在上海市收集的一组真实的出租车轨迹用于模拟一天中不同时间的雾节点的移动性，并且实现了两个示例任务，包括视频流和实时对象识别。通过实际实验测量示例任务的资源消耗，并使用veinsLTE分析车对雾通信的性能，veinsLTE是车辆间通信模拟器。与现有解决方案（例如，幼稚和随机）相比，Folo缩短了平均服务等待时间，同时降低了整体质量损失，并在服务等待时间和质量损失之间实现了更好的平衡。  
这项工作的主要贡献概述如下：  
* Folo经过精心设计，是VFC中固定和移动雾节点上延迟和质量优化任务分配的新颖解决方案。
* 任务分配过程被制定为联合优化问题，并通过基于LBO和BPSO的DTA方法解决。
* 使用真实应用配置文件和出租车轨迹作为输入，通过模拟评估Folo的有效性。 结果表明，Folo在服务延迟和质量方面优于现有解决方案。

### 2 RELATED WORK
雾计算与通过移动边缘计算将计算资源移动到边缘的原理相同。在文献中已经提出了不同的VFC架构。例如，Satyanarayanan等人提出将每个车辆变成一个雾节点并为每个区域选择一个协调器。Xiao等人倾向于将商用车队变成雾节点，以便为邻近的车辆和乘客提供服务，而侯等人则建议在缓慢移动或停放的车辆使用额外的计算能力。此外，Ni等人研究了考虑安全性，公平性和隐私性的基于雾的车辆群体感知的架构。  
与我们的工作相关，以前的研究工作已经研究了雾/边缘计算中的任务分配。Li等人通过联合优化所有边缘节点的卸载策略和QoR，最小化了服务响应时间和能耗。Sardellitti等人联合优化了边缘计算中多个单元的无线电和计算资源。但是，这些现有结果不能直接应用于VFC，因为它们没有考虑车辆的移动性。Feng等人提出了一种基于蚁群优化算法的VFC作业缓存框架。 但是，它侧重于缓存，并没有考虑其他场景，例如本地处理。据我们所知，Folo是第一个在VFC中提供服务延迟和质量的联合优化，同时考虑了雾节点的移动性。

### 3 SYSTEM OVERVIEW
#### 3.1 Related Terms
Fog Nodes:  
* 固定雾节点：计算节点与蜂窝基站，路边单元，Wi-Fi接入点或任何其他固定基础设施共同定位。
* 移动雾节点：由具有板载专用短程通信（DSRC）和长期演进（LTE）通信模块的移动车辆承载的计算节点。

Tasks:应用程序的过程可以分解为一组服务。例如，基于AR的驾驶辅助包括诸如对象识别和视频流的服务。服务是独立可悲的。每个服务都有自己的延迟，质量限制和工作负载配置文件。在Folo中，任务是指服务实例。例如，假设存在车辆需求，用于识别由其摄像机拍摄的视频剪辑中的潜在障碍物，并且由于其有限的计算能力而需要将该服务实例卸载到雾节点。然后，该服务实例中的任务包括视频上传，视频预处理，特征提取，模式匹配和结果下载。该任务被认为是任务分配的基本单位。也就是说，从任务分配的角度来看，任务不能分为子任务。

Client Vehicles:生成任务的车辆被定义为客户端车辆。每个客户端车辆可以同时生成多个任务。可以将从一个客户端车辆生成的任务分配给不同的雾节点。

Service Zones:可以安全地假设现代城市的城市地区完全被蜂窝网络所覆盖。以类似的方式，根据[31]，将市区划分为服务区域，并且选择区域内的静止雾节点来管理和协调同一区域中的所有雾节点。协调员称为区域头。为了简化系统模型，总是选择长期演进（LTE）基站作为区域头，并假设移动雾节点部署在商业车队上，例如出租车和公共汽车。 利用现有的蜂窝登记机制，移动雾节点在进入或离开区域时始终通知区域头部。此外，他们还定期向区域负责人报告他们的移动方向，位置和可用容量。请注意，Folo可以看到雾节点，客户端车辆以及基站的位置和动态。

#### 3.2 Process of Task Allocation
Folo中的任务分配过程如图1所示。整个过程包括4个步骤，如下所示:

##### 3.2.1 Mobile fog nodes discovering
在初始阶段，客户端车辆需要确定哪个移动雾节点在其通信范围内。 它通过DSRC广播单跳探测消息，并从雾节点收集响应。响应的任何雾节点都包含在雾候选列表中。 如图1所示，客户车A的雾候选是A的通信范围内的雾节点。
##### 3.2.2 Requests sending
在发现雾候选者之后，客户端车辆通过LTE向区域头部发送请求。 该请求包含有关要卸载到候选雾的任务的信息。
##### 3.2.3 Tasks to fog candidates assigning
当从任何客户端车辆接收请求时，区域头部执行任务分配算法以决定在何处运行任务。关于网络拓扑的频繁变化，区域头将根据其预测路径估计雾节点候选的服务时间，并过滤出仅能在非常短的时间内提供服务的雾节点。此外，利用现有的蜂窝登记机制，区域头将周期性地检查移动雾节点的位置以避免过时的信息。 该算法的细节将在第5节中介绍。
##### 3.2.4 Task migration scheduling
客户端车辆和移动雾节点之间的连接可能不会持续，直到所分配的任务由于其移动性而完成。例如，当相应的雾节点从当前服务区移出时，可以中断任务的执行。在这种情况下，当前服务区的区域头必须调用另一个雾节点来接管任务。
![image](https://github.com/qpointwang/Mobile-Edge-Computing/blob/master/Folo%20Latency%20andQuality%20Optimized%20Task%20Allocation%20in%20Vehicular%20Fog%20Computing/fig1.png)
在Folo中，我们建议使用轻量级容器（例如LXD）进行服务提供[32]。 任务迁移可以是事件触发的，任务将通过迭代实时迁移（即预拷贝）进行迁移[33]。当触发任务迁移（例如，信号强度衰减到某个阈值）时，使用用户空间中的检查点和恢复（CRIU）技术，容器的磁盘文件和内存页面将从源雾节点复制到目标雾 容器继续运行时的节点。